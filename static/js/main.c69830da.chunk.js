(this.webpackJsonpreg2reg=this.webpackJsonpreg2reg||[]).push([[0],{178:function(e,t,n){var r=n(328),a=["transformRegister"];e.exports=function(){var e=new Worker(n.p+"b199b3db2ecec9d81f17.worker.js",{name:"[hash].worker.js"});return r(e,a),e}},329:function(e,t,n){"use strict";n.r(t);n(215);var r,a=n(0),s=n.n(a),c=n(53),i=n.n(c),o=n(184),l=n(15),j=n(398),u=n(399),d=n(340),O=n(1),b=function(){return Object(O.jsx)(j.a,{position:"static",children:Object(O.jsx)(u.a,{children:Object(O.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Reg2Reg - \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432"})})})},h={main:"/",createOrg:"/orgs/create"},x=n(72),g=n.n(x),p=n(98),f=n(11),m=n(4),v=n(45),y=n(99),k=n(187),R=n(389),S=n(393),E=n(414),_=n(3),I=Object(_.a)(E.a)((function(e){return{padding:e.theme.spacing(2)}})),C=n(400),T=function(e){var t=e.children;return Object(O.jsx)(d.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:t})},D=n(394),N=n(101),w=n.n(N),B=n(401),P=n(402),q=n(403),F=n(404),L=n(405),A=n(406),G=n(407),W=n(385),z=n(169),M=n.n(z),J=n(164),U=n.n(J),K=n(103),V=n.n(K),$=n(165),H=n.n($),Q=n(167),X=n.n(Q),Y=n(166),Z=n.n(Y),ee=n(168),te=n.n(ee);!function(e){e[e.IDLE=0]="IDLE",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.ERROR=2]="ERROR",e[e.DONE=3]="DONE"}(r||(r={}));var ne=function(e){var t=e.onAddOrgPressed,n=e.orgs,a=e.selectedOrgId,s=e.onOrgSelected,c=e.onDeleteRequested,i=e.onUpdateRequested,o=e.onFullResetRequested,l=function(e){return function(t){t.stopPropagation(),c(e)}};return Object(O.jsxs)(I,{children:[Object(O.jsx)(T,{children:Object(O.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)(C.a,{component:"span",sx:{mr:2},children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"}),Object(O.jsx)(D.a,{variant:"outlined",startIcon:Object(O.jsx)(w.a,{}),color:"success",onClick:function(){return t()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}),Object(O.jsx)(B.a,{sx:{mb:2},children:Object(O.jsxs)(P.a,{children:[Object(O.jsx)(q.a,{children:Object(O.jsxs)(F.a,{children:[Object(O.jsx)(L.a,{}),Object(O.jsx)(L.a,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(O.jsx)(L.a,{children:"\u0418\u041d\u041d"}),Object(O.jsx)(L.a,{align:"right",children:"\u041d\u043e\u043c\u0435\u0440 \u0440\u0435\u0435\u0441\u0442\u0440\u0430"}),Object(O.jsx)(L.a,{align:"center",children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(O.jsx)(L.a,{align:"right",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(O.jsx)(A.a,{children:n.map((function(e){return Object(O.jsxs)(F.a,{hover:!0,onClick:function(){s(e.id)},selected:e.id===a,sx:{"&:hover":{cursor:"pointer"}},children:[Object(O.jsx)(L.a,{padding:"none",children:e.id===a&&Object(O.jsx)(C.a,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"8px"},children:Object(O.jsx)(U.a,{color:"primary",fontSize:"large"})})}),Object(O.jsx)(L.a,{children:e.org.name}),Object(O.jsx)(L.a,{children:e.org.inn}),Object(O.jsx)(L.a,{align:"right",children:e.org.npp}),Object(O.jsxs)(L.a,{align:"center",children:[e.taskStatus===r.IDLE&&Object(O.jsx)(W.a,{title:"\u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430",children:Object(O.jsx)(H.a,{color:"disabled"})}),e.taskStatus===r.IN_PROGRESS&&Object(O.jsx)(W.a,{title:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",children:Object(O.jsx)(Z.a,{color:"primary"})}),e.taskStatus===r.DONE&&Object(O.jsx)(W.a,{title:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430",children:Object(O.jsx)(X.a,{color:"success"})}),e.taskStatus===r.ERROR&&Object(O.jsx)(W.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",children:Object(O.jsx)(te.a,{color:"error"})})]}),Object(O.jsxs)(L.a,{padding:"none",align:"right",children:[Object(O.jsx)(W.a,{title:'\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "'.concat(e.org.name,'"'),children:Object(O.jsx)(G.a,{onClick:(t=e.id,function(e){e.stopPropagation(),i(t)}),children:Object(O.jsx)(M.a,{})})}),Object(O.jsx)(W.a,{title:'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "'.concat(e.org.name,'"'),children:Object(O.jsx)(G.a,{color:"error",onClick:l(e.id),children:Object(O.jsx)(V.a,{color:"error"})})})]})]},e.id);var t}))})]})}),Object(O.jsx)(C.a,{textAlign:"right",children:Object(O.jsx)(D.a,{variant:"outlined",color:"primary",onClick:function(){return o()},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0441\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})})]})},re=n(62);re.setLocale({mixed:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}}),re.addMethod(re.string,"isDigits",(function(e){return this.matches(/^\d+$/,e)})),re.addMethod(re.string,"isINN",(function(){return this.isDigits("\u0418\u041d\u041d \u0434\u043e\u043b\u0436\u0435\u043d\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0446\u0438\u0444\u0440").test("innLength","\u0418\u041d\u041d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 10-\u0442\u0438 \u0438\u043b\u0438 12-\u0442\u0438 \u0446\u0438\u0444\u0440",(function(e){return Boolean(e)&&(10===e.length||12===e.length)})).test("innCheckSum","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d",(function(e){var t=function(t){return parseInt(e[t])};if(e&&12===e.length){var n=(7*t(0)+2*t(1)+4*t(2)+10*t(3)+3*t(4)+5*t(5)+9*t(6)+4*t(7)+6*t(8)+8*t(9))%11%10,r=(3*t(0)+7*t(1)+2*t(2)+4*t(3)+10*t(4)+3*t(5)+5*t(6)+9*t(7)+4*t(8)+6*t(9)+8*t(10))%11%10;return t(10)===n&&t(11)===r}if(e&&10===e.length){var a=(2*t(0)+4*t(1)+10*t(2)+3*t(3)+5*t(4)+9*t(5)+4*t(6)+6*t(7)+8*t(8))%11%10;return t(9)===a}return!0}))}));var ae=re,se=n(185),ce=n(381),ie=n(415),oe=n(416),le=n(417),je=n(16),ue=n(17),de=function(){function e(t){Object(je.a)(this,e),this._key=void 0,this._key=t}return Object(ue.a)(e,[{key:"retreiveData",value:function(){var e=localStorage.getItem(this._key);return null===e?{}:JSON.parse(e)}},{key:"storeData",value:function(e){var t=JSON.stringify(e);localStorage.setItem(this._key,t)}}]),e}(),Oe=function(){function e(){Object(je.a)(this,e),this._orgsStorage=new de(e.storageKey)}return Object(ue.a)(e,[{key:"storeOrgs",value:function(e){this._orgsStorage.storeData(e)}},{key:"getOrgs",value:function(){return this._orgsStorage.retreiveData()}},{key:"getOrgById",value:function(e){return this._orgsStorage.retreiveData()[e]}},{key:"create",value:function(e){var t=this.getOrgs();t[Object(R.a)()]=e,this.storeOrgs(t)}},{key:"update",value:function(e,t){var n=this.getOrgs();n[e]=t,this.storeOrgs(n)}},{key:"remove",value:function(e){var t=this.getOrgs();delete t[e],this.storeOrgs(t)}}]),e}();Oe.storageKey="orgs";var be,he=function(){function e(){Object(je.a)(this,e),this._orgsRepository=new Oe}return Object(ue.a)(e,[{key:"getAll",value:function(){return this._orgsRepository.getOrgs()}},{key:"getById",value:function(e){return this._orgsRepository.getOrgById(e)}},{key:"create",value:function(e){this._orgsRepository.create(e)}},{key:"update",value:function(e,t){this._orgsRepository.update(e,t)}},{key:"remove",value:function(e){this._orgsRepository.remove(e)}}]),e}(),xe=n(386),ge=n(410),pe=n(408),fe=n(395),me=n(391),ve=n(409),ye=n(176),ke=n.n(ye),Re=n(175),Se=n.n(Re),Ee=n(177),_e=n.n(Ee),Ie=["open","onClose"],Ce=ae.object().shape({name:ae.string().required(),inn:ae.string().required().isINN(),api_key:ae.string().required(),npp:ae.number().integer().required()}),Te=function(e){var t=e.orgId,n=e.onSaveOrAdd,r=e.onClose,a=void 0!==t,c=s.a.useMemo((function(){return new he}),[]),i=s.a.useState(),o=Object(f.a)(i,2),l=o[0],j=o[1],u=s.a.useState(!1),d=Object(f.a)(u,2),b=d[0],h=d[1],x=Object(se.a)({initialValues:l||{name:"",inn:"",api_key:"",npp:1},validationSchema:Ce,onSubmit:function(e){a?c.update(t,e):c.create(e),n()},enableReinitialize:!0});s.a.useEffect((function(){if(t){var e=c.getById(t);j(e)}}),[t,c]);var g=a?'\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "'.concat(l&&l.name,'"'):"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(ce.a,{children:g}),Object(O.jsxs)("form",{onSubmit:x.handleSubmit,children:[Object(O.jsx)(ie.a,{children:Object(O.jsxs)(S.a,{container:!0,spacing:1,children:[Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(xe.a,{fullWidth:!0,variant:"outlined",id:"org.name",name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:x.values.name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.touched.name&&Boolean(x.errors.name),helperText:x.touched.name&&x.errors.name||" ",autoComplete:"off"})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(xe.a,{fullWidth:!0,variant:"outlined",id:"org.inn",name:"inn",label:"\u0418\u041d\u041d",value:x.values.inn,onChange:x.handleChange,onBlur:x.handleBlur,error:x.touched.inn&&Boolean(x.errors.inn),helperText:x.touched.inn&&x.errors.inn||" ",autoComplete:"off"})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsxs)(pe.a,{variant:"outlined",fullWidth:!0,children:[Object(O.jsx)(me.a,{htmlFor:"org.api_key",children:"\u041a\u043b\u044e\u0447 API"}),Object(O.jsx)(fe.a,{type:b?"text":"password",id:"org.api_keu",name:"api_key",label:"\u041a\u043b\u044e\u0447 API",value:x.values.api_key,onBlur:x.handleBlur,onChange:x.handleChange,error:x.touched.api_key&&Boolean(x.errors.api_key),autoComplete:"off",endAdornment:Object(O.jsx)(ge.a,{position:"end",children:Object(O.jsx)(G.a,{onClick:function(){return h(!b)},edge:"end",children:b?Object(O.jsx)(Se.a,{}):Object(O.jsx)(ke.a,{})})})}),Object(O.jsx)(ve.a,{error:x.touched.api_key&&Boolean(x.errors.api_key),children:x.touched.api_key&&x.errors.api_key||" "})]})}),Object(O.jsx)(S.a,{item:!0,xs:12,children:Object(O.jsx)(xe.a,{type:"number",fullWidth:!0,variant:"outlined",name:"npp",label:"\u041f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0440\u0435\u0435\u0441\u0442\u0440\u0430",value:x.values.npp,onBlur:x.handleBlur,onChange:x.handleChange,error:x.touched.npp&&Boolean(x.errors.npp),helperText:x.touched.npp&&x.errors.npp||"\u0411\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0438 \u0440\u0435\u0435\u0441\u0442\u0440\u0430",autoComplete:"off"})})]})}),Object(O.jsxs)(oe.a,{children:[Object(O.jsx)(D.a,{onClick:r,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(O.jsx)(D.a,{type:"submit",color:"success",startIcon:a?Object(O.jsx)(_e.a,{}):Object(O.jsx)(w.a,{}),children:a?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})},De=function(e){var t=e.open,n=e.onClose,r=Object(y.a)(e,Ie);return Object(O.jsx)(le.a,{open:t,onClose:n,children:Object(O.jsx)(Te,Object(v.a)({onClose:n},r))})},Ne=function(e){var t=e.open,n=e.orgName,r=e.orgId,a=e.onClose,c=e.onDelete,i=s.a.useMemo((function(){return new he}),[]);return Object(O.jsxs)(le.a,{open:t,onClose:a,children:[Object(O.jsxs)(ce.a,{children:['\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "',n,'"?']}),Object(O.jsxs)(oe.a,{children:[Object(O.jsx)(D.a,{onClick:a,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(O.jsx)(D.a,{startIcon:Object(O.jsx)(V.a,{}),color:"error",onClick:function(){i.remove(r),c()},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},we=n(178),Be=n.n(we),Pe=function(){function e(){Object(je.a)(this,e),this._tasks={}}return Object(ue.a)(e,[{key:"startTransformationTask",value:function(){var e=Object(p.a)(g.a.mark((function e(t,n,r){var a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Be()(),this._tasks[t]=a,e.next=4,a.transformRegister(n,r);case 4:return s=e.sent,this.stopTransformationTask(t),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"stopTransformationTask",value:function(e){void 0!==this._tasks[e]&&(this._tasks[e].terminate(),delete this._tasks[e])}}]),e}(),qe=n(180),Fe=n.n(qe),Le=n(179),Ae=n.n(Le),Ge=function(e){var t=e.onFileChange,n=e.disabled,r=s.a.useState(),a=Object(f.a)(r,2),c=a[0],i=a[1],o=s.a.useRef();return Object(O.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(xe.a,{disabled:!0,fullWidth:!0,variant:"outlined",value:c||"\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",label:"\u0424\u0430\u0439\u043b \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0440\u0435\u0435\u0441\u0442\u0440\u0430",size:"small",sx:function(e){return{flexGrow:1,marginRight:e.spacing(1)}}}),c?Object(O.jsx)(G.a,{size:"large",color:"error",onClick:function(){i(void 0),o.current.value="",t(null)},disabled:n,children:Object(O.jsx)(Ae.a,{})}):Object(O.jsx)(G.a,{onClick:function(){o.current.click()},size:"large",disabled:n,children:Object(O.jsx)(Fe.a,{})}),Object(O.jsx)("input",{type:"file",hidden:!0,ref:o,onChange:function(e){var n=e.target.files&&e.target.files[0];i(null===n||void 0===n?void 0:n.name),t(n)},accept:".xls,.xlsx"})]})},We=n(181),ze=n.n(We),Me=n(182),Je=n.n(Me),Ue=n(413),Ke=n(183),Ve=n.n(Ke),$e=n(411),He=n(387),Qe=n(412),Xe=function(e){var t=e.loading,n=e.resultFile,r=e.error,a=e.onTransformRequested,c=e.onResetRequested,i=e.onCancelTaskRequested,o=s.a.useState(),l=Object(f.a)(o,2),j=l[0],u=l[1];return Object(O.jsxs)(I,{children:[Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsx)(T,{children:Object(O.jsxs)(C.a,{sx:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(ze.a,{color:"primary",sx:{mr:2}}),"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0435\u0441\u0442\u0440\u0430"]})})}),!t&&!n&&!r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsx)(Ge,{disabled:t,onFileChange:function(e){u(e)}})}),Object(O.jsx)(D.a,{variant:"contained",fullWidth:!0,startIcon:Object(O.jsx)(Je.a,{}),size:"large",disabled:!Boolean(j),onClick:function(){return a(j)},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"})]}),(n||r)&&Object(O.jsxs)(O.Fragment,{children:[n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsxs)(d.a,{variant:"subtitle1",children:["\u0424\u0430\u0439\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430: ",Object(O.jsx)("strong",{children:n.name})]})}),Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsx)(D.a,{variant:"contained",color:"success",fullWidth:!0,startIcon:Object(O.jsx)(Ve.a,{}),size:"large",href:URL.createObjectURL(n),download:n.name,children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"})}),Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsx)($e.a,{})})]}),r&&Object(O.jsx)(C.a,{sx:{mb:2},children:Object(O.jsxs)(He.a,{severity:"error",children:[Object(O.jsx)(Qe.a,{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),r]})}),Object(O.jsx)(D.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:c,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"})]}),t&&Object(O.jsxs)(C.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(O.jsx)(C.a,{sx:{pt:3,pb:4},children:Object(O.jsx)(Ue.a,{size:60})}),Object(O.jsx)(D.a,{variant:"outlined",color:"error",onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})};!function(e){e[e.SET_RESET=0]="SET_RESET",e[e.RESET_ALL=1]="RESET_ALL",e[e.SET_IN_PROGRESS=2]="SET_IN_PROGRESS",e[e.SET_DONE=3]="SET_DONE",e[e.SET_ERROR=4]="SET_ERROR"}(be||(be={}));var Ye=function(e,t){switch(t.type){case be.RESET_ALL:return{};case be.SET_RESET:var n=t.payload.orgId;e[n];return Object(y.a)(e,[n].map(k.a));case be.SET_IN_PROGRESS:return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t.payload.orgId,{inProgress:!0,taskId:t.payload.taskId}));case be.SET_DONE:return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t.payload.orgId,{inProgress:!1,resultFile:t.payload.resultFile,taskId:e[t.payload.orgId].taskId}));case be.SET_ERROR:return Object(v.a)(Object(v.a)({},e),{},Object(m.a)({},t.payload.orgId,{inProgress:!1,error:t.payload.error,taskId:e[t.payload.orgId].taskId}));default:return e}},Ze=function(){var e,t,n=s.a.useMemo((function(){return new he}),[]),a=s.a.useMemo((function(){return new Pe}),[]),c=s.a.useReducer(Ye,{}),i=Object(f.a)(c,2),o=i[0],l=i[1],j=s.a.useState(n.getAll()),u=Object(f.a)(j,2),d=u[0],b=u[1],h=s.a.useState(Object.keys(d)[0]),x=Object(f.a)(h,2),m=x[0],v=x[1],y=s.a.useState(),k=Object(f.a)(y,2),E=k[0],_=k[1],I=s.a.useState(!1),C=Object(f.a)(I,2),T=C[0],D=C[1],N=s.a.useState(!1),w=Object(f.a)(N,2),B=w[0],P=w[1],q=s.a.useState(),F=Object(f.a)(q,2),L=F[0],A=F[1],G=s.a.useMemo((function(){return Object.keys(d).map((function(e){return{org:d[e],id:e,taskStatus:o[e]?o[e].inProgress?r.IN_PROGRESS:o[e].resultFile?r.DONE:r.ERROR:r.IDLE}}))}),[d,o]),W=function(){var e=Object(p.a)(g.a.mark((function e(t){var n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m,r=Object(R.a)(),l({type:be.SET_IN_PROGRESS,payload:{taskId:r,orgId:n}}),e.prev=3,e.next=6,a.startTransformationTask(r,t,d[m]);case 6:s=e.sent,l({type:be.SET_DONE,payload:{resultFile:s,orgId:n}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),l({type:be.SET_ERROR,payload:{error:e.t0.message,orgId:n}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=n.getAll();b(e)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(S.a,{container:!0,spacing:2,children:[Object(O.jsx)(S.a,{item:!0,xs:8,children:Object(O.jsx)(ne,{onAddOrgPressed:function(){A(void 0),P(!0)},orgs:G,selectedOrgId:m,onOrgSelected:function(e){v(e)},onDeleteRequested:function(e){_(e),D(!0)},onUpdateRequested:function(e){A(e),P(!0)},onFullResetRequested:function(){l({type:be.RESET_ALL})}})}),Object(O.jsx)(S.a,{item:!0,xs:4,children:Object(O.jsx)(Xe,{loading:!!o[m]&&o[m].inProgress,resultFile:null===(e=o[m])||void 0===e?void 0:e.resultFile,error:null===(t=o[m])||void 0===t?void 0:t.error,onTransformRequested:W,onResetRequested:function(){l({type:be.SET_RESET,payload:{orgId:m}})},onCancelTaskRequested:function(){a.stopTransformationTask(o[m].taskId),l({type:be.SET_RESET,payload:{orgId:m}})}},m)})]}),Object(O.jsx)(De,{orgId:L,open:B,onClose:function(){P(!1)},onSaveOrAdd:function(){P(!1),z()}}),Object(O.jsx)(Ne,{open:T,orgId:E,orgName:E&&d[E]&&d[E].name,onClose:function(){D(!1)},onDelete:function(){z(),D(!1)}})]})},et=n(392),tt=n(186),nt=Object(tt.a)(),rt=n(384),at=n(397);var st=function(){return Object(O.jsxs)(et.a,{theme:nt,children:[Object(O.jsx)(rt.a,{}),Object(O.jsx)(b,{}),Object(O.jsx)(at.a,{sx:{mb:4,mt:4},children:Object(O.jsx)(o.a,{children:Object(O.jsx)(l.c,{children:Object(O.jsx)(l.a,{path:h.main,element:Object(O.jsx)(Ze,{})})})})})]})};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(st,{})}),document.getElementById("root"))}},[[329,1,2]]]);
//# sourceMappingURL=main.c69830da.chunk.js.map